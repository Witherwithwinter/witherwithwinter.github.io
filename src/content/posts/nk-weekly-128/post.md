---
title: ç‰›å®¢å‘¨èµ› Round 128
published: 2026-01-27
description: "ç‰›å®¢ä¸Šç»¿ï¼ˆ1500+ï¼‰ï¼"
image: "./cover.webp"
tags: [ç‰›å®¢, ç‰›å®¢å‘¨èµ›]
category: Tutorial
draft: false
---

# â˜ï¸ä½“éªŒ

ç®€å•åˆ°æˆ‘å·®ç‚¹ AK çš„ä¸€åœºå‘¨èµ›ã€‚

# ðŸ’¡é¢˜è§£

## A - å°çº¢çš„åŒå±‚å¤¹å¿ƒ

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º $4$ çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­ä¸­é—´ä¸¤ä¸ªå­—ç¬¦æ˜¯å¦ç›¸åŒã€‚

### æ€è·¯

ç›´æŽ¥åˆ¤æ–­å³å¯ã€‚

### ä»£ç 

```cpp
void solve()
{
    string s; 
    cin >> s;

    if(s[1] == s[2]) Yes;
    else No;
}
```

## B - å°çº¢çš„é©¬å¡é¾™å®šä½

### é¢˜æ„

ç»™ä½  $3$ ä¸ªç‚¹çš„åæ ‡ $(x_1, y_1)$ï¼Œ$(x_2, y_2)$ï¼Œ$(x_3, y_3)$ã€‚

å·²çŸ¥ä¸‰ç‚¹ä½äºŽåŒä¸€æ¡ç›´çº¿ä¸Šï¼Œåˆ¤æ–­ç¬¬å‡ ä¸ªç‚¹æ˜¯ä¸­ç‚¹ã€‚

### æ€è·¯

æ ¹æ®ä¸­ç‚¹å…¬å¼ $x_{mid} = \frac{x_1 + x_2}{2}$ï¼Œ$y_{mid} = \frac{y_1 + y_2}{2}$ï¼Œåˆ¤æ–­ç¬¬å‡ ä¸ªç‚¹æ˜¯ä¸­ç‚¹å³å¯ã€‚

å¦‚æžœä¸‰ç‚¹ $x$ åæ ‡ç›¸åŒï¼Œå°±é€šè¿‡ $y$ åæ ‡åˆ¤æ–­ï¼Œåä¹‹é€šè¿‡ $x$ åæ ‡åˆ¤æ–­å³å¯ã€‚

### ä»£ç 

```cpp
void solve()
{
    int a, b, c, x, y, z; 
    cin >> a; cin >> x;
    cin >> b; cin >> y;
    cin >> c; cin >> z;

    auto f = [&](int a, int b, int c) -> void
    {
        if(a + b == 2 * c) D(3);
        else if(a + c == 2 * b) D(2);
        else D(1);
    };

    if(a == b && b == c) f(x, y, z);
    else f(a, b, c);
}
```

## C - å°çº¢çš„å¥¶æ²¹è›‹ç³•å·¥åŠ

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æŽ’åˆ— $a$ã€‚

ä½ éœ€è¦æ”¹å˜ $a$ ä¸­çš„ä¸€äº›å…ƒç´ ï¼Œä½¿å¾— $a$ ä¸­çš„å…ƒç´ è‡³å°‘æœ‰ $\lceil \frac{n}{2} \rceil$ ä¸ªç›¸åŒã€‚

ä½ éœ€è¦å°½å¯èƒ½ä½¿æ€»çš„æ”¹å˜é‡æœ€å°‘ï¼Œå³ä½¿ $\sum_{i=1}^n |\Delta a_i|$ æœ€å°ã€‚

è¾“å‡ºæœ€ç»ˆçš„ $a$ã€‚

### æ€è·¯

å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œæˆ‘ä»¬æŠŠå‰ $\lceil \frac{n}{2} \rceil$ å°çš„å…ƒç´ ï¼Œå³ $1$ ~ $\lceil \frac{n}{2} \rceil$ ï¼Œéƒ½æ”¹ä¸º $\lceil \frac{\lceil \frac{n}{2} \rceil}{2} \rceil$ å°±å¥½äº†ã€‚

$\lceil \frac{\lceil \frac{n}{2} \rceil}{2} \rceil$ æ˜¯ $1$ ~ $\lceil \frac{n}{2} \rceil$ çš„ä¸­ä½æ•°ï¼Œé€‰å–ä¸­ä½æ•°å¯ä»¥ä¿è¯æ”¹å˜é‡æœ€å°ã€‚

:::note[ä½•æ„å‘³]

è‡³äºŽåŒä¸€é¢˜ä¸ºä»€ä¹ˆè¦ç”¨ `/ 2` å’Œ `>> 1` ä¸¤ç§å†™æ³•...

:spoiler[
èµ›æ—¶å†™å®Œè¿™å¨ä»£ç æˆ‘è‡ªå·±ä¹Ÿæ˜¯æœ‰ç‚¹æ‡µã€‚å¤§æ¦‚æ˜¯å› ä¸ºå¹³æ—¶å†™äºŒåˆ†ä¸€èˆ¬ç”¨ `mid = (l + r) >> 1`ï¼Œæ‰€ä»¥å†™å®Œ `mid` ä¹‹åŽå°±ä¹ æƒ¯æ€§é¡ºæ‰‹å†™ `(...) >> 1` äº†ã€‚]

:::

### ä»£ç 

```cpp
void solve()
{
    input(n, a);
    int cnt = (n + 1) / 2;
    int mid = (cnt + 1) >> 1;
    for(int& i : a) 
        if(i <= cnt) i = mid;
    vD(a);
}
```

## D - å°çº¢çš„å¥‡æ•°å¥¶æ²¹çƒ

### é¢˜æ„

ç»™ä½ ä¸€é¢—æ ‘ï¼Œå¦‚æžœåˆ é™¤ä¸€ä¸ªç‚¹ï¼Œå‰©ä½™çš„æ¯ä¸€ä¸ªéƒ¨åˆ†çš„èŠ‚ç‚¹æ•°éƒ½æ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªç‚¹å°±æ˜¯ä¸€ä¸ªå¥‡æ•°å¥¶æ²¹çƒã€‚

é—®ä½ è¿™æ£µæ ‘ä¸­æœ‰å¤šå°‘ä¸ªå¥‡æ•°å¥¶æ²¹çƒã€‚

### æ€è·¯

è¾“å…¥é¡ºåºå¯èƒ½ä¸æ˜¯æ‹“æ‰‘çš„ï¼Œå…ˆå½“æ— å‘å›¾è¯»è¿›æ¥ï¼Œç„¶åŽä»¥ $1$ ä¸ºæ ¹å»ºæ ‘ã€‚

ä½ çŒœæˆ‘æ€Žä¹ˆçŸ¥é“æœ‰æµ‹è¯•ç‚¹å¯èƒ½ä¸æ˜¯æŒ‰é¡ºåºè¾“å…¥çš„ï¼Ÿ

:spoiler[å› ä¸ºæ ·ä¾‹å…¨æ˜¯æŒ‰é¡ºåºè¾“å…¥çš„ï¼Œæ‰€ä»¥æˆ‘ä¸€å¼€å§‹ç›´æŽ¥å½“æœ‰å‘å›¾å­˜å…¥ï¼ŒWA äº†ä¸€å‘ã€‚]

ç„¶åŽä»¥ $1$ ä¸ºèµ·ç‚¹è·‘ä¸€é $DFS$ï¼ŒåŒæ—¶è®°å½•æ¯ä¸ªç‚¹çš„å­æ ‘å¤§å°ã€‚

åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹ $i$ æ˜¯å¦æ˜¯å¥‡æ•°å¥¶æ²¹çƒï¼Œåªéœ€è¦åˆ¤æ–­å®ƒçš„å­æ ‘å¤§å°æ˜¯å¦éƒ½ä¸ºå¥‡æ•°å³å¯ã€‚

å¦‚æžœè¿™ä¸ªç‚¹ä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œè¿˜å¾—åˆ¤æ–­å®ƒä¸Šæ–¹çš„éƒ¨åˆ†æ˜¯å¦æ˜¯å¥‡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ $n - d[i]$ å¾—å‡ºä¸Šæ–¹çš„éƒ¨åˆ†å¤§å°ã€‚

### ä»£ç 

```cpp
void solve()
{
    int n; 
    cin >> n;

    vector<vector<int>> g(n + 1);
    for(int i = 0; i < n - 1; i++)
    {
        int u, v; 
        cin >> u >> v;
        g[u].push_back(v);
        g[v].push_back(u);
    }

    vector<vector<int>> t(n + 1);
    function<void(int, int)> build = [&](int x, int fa) -> void
    {
        for(int i : g[x]) 
            if(i != fa) 
            {
                t[x].push_back(i);  
                build(i, x);
            }
    };
        
    build(1, 0);

    vector<int> d(n + 1);

    function<int(int)> dfs = [&](int x) -> int
    {
        int ret = 1;
        for(auto& i : t[x])
            ret += dfs(i);
        d[x] = ret;
        return ret;
    };

    dfs(1);

    int ans = 0;

    for(int i = 1; i <= n; i++)
    {
        if(i != 1)
        {
            int k = n - d[i];
            if(k % 2 == 0) continue;
        }

        bool ok = true;

        for(auto& j : t[i])
            if(d[j] % 2 == 0)
            {
                ok = false;
                break;
            }

        if(ok) ans++;
    }

    D(ans);
}
```

## E - å°çº¢çš„ææ‹‰ç±³è‹é…æ–¹ï¼ˆeasyï¼‰ 

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² $s$ï¼ŒåŒ…å« $0$ï¼Œ$1$ï¼Œ$2$ ä¸‰ç§å­—ç¬¦ã€‚

æ¯æ¬¡æ“ä½œï¼Œä½ éœ€è¦é€‰å–ä¸¤ä¸ª $1$ï¼ŒæŠŠå…¶ä¸­ä¸€ä¸ª $1$ åˆ æŽ‰ï¼Œå¦ä¸€ä¸ªå˜æˆ $2$ã€‚

æ“ä½œæŒç»­åˆ°æ— æ³•ç»§ç»­æ“ä½œä¸ºæ­¢ã€‚

è¾“å‡ºå­—å…¸åºæœ€å¤§çš„ç»“æžœã€‚

### æ€è·¯

å¾ˆæ˜Žæ˜¾ï¼ŒæŠŠ $2$ æ”¾åŽé¢æ€»æ˜¯è¦å¥½ä¸€äº›ã€‚

è®¾ $s$ ä¸­ $1$ çš„ä¸ªæ•°ä¸º $m$ã€‚

- å¦‚æžœ $m$ æ˜¯å¶æ•°ï¼Œé‚£ä¹ˆå°±æŠŠå‰ $\frac{m}{2}$ ä¸ª $1$ éƒ½åˆ æŽ‰ï¼ŒæŠŠåŽé¢çš„ $1$ éƒ½å˜æˆ $2$ã€‚

- å¦‚æžœ $m$ æ˜¯å¥‡æ•°ï¼š

  - é¦–å…ˆï¼ŒåŽ $\frac{m}{2}$ ä¸ª $1$ éƒ½æ˜¯è¦å˜æˆ $2$ çš„ï¼›
  - å¯¹äºŽå‰é¢çš„ $1$ï¼Œæˆ‘ä»¬æ€»æ˜¯è¦ç•™ä¸‹ä¸€ä¸ªã€‚æˆ‘ä»¬ä»Žå·¦å¾€å³éåŽ†ï¼ŒæŠŠé‡åˆ°çš„ç¬¬ä¸€ä¸ªå³è¾¹æ˜¯ $2$ çš„ $1$ ä¿ç•™ä¸‹æ¥ã€‚å¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±æŠŠæœ€åŽä¸€ä¸ª $1$ ä¿ç•™ä¸‹æ¥ã€‚

### ä»£ç 

```cpp
void solve()
{
    string s; 
    cin >> s;

    int n = s.size();
        
    vector<int> p;
    for(int i = 0; i < n; i++)
        if(s[i] == '1') 
            p.push_back(i);

    if(p.size() <= 1)
    {
        D(s);
        return;
    }

    int m = p.size();
    for(int i = (m + 1) / 2; i < m; i++) 
        s[p[i]] = '2';

    bool keep = m % 2 == 0;
    int i = 0;
    for( ; i < (m + 1) / 2; i++) 
        if(!keep && s[p[i] + 1] == '2') 
            keep = true;
        else s[p[i]] = '#';
        
    if(!keep) s[p[i - 1]] = '1';
        
    for(char& c : s)
        if(c != '#') 
            cout << c;
}
```

## F - å°çº¢çš„ææ‹‰ç±³è‹é…æ–¹ ï¼ˆhardï¼‰ 

### é¢˜æ„

å’Œ $Easy$ $Version$ çš„åŒºåˆ«æ˜¯ï¼Œä½ å¯ä»¥è‡ªå·±å†³å®šä»€ä¹ˆæ—¶å€™åœæ­¢æ“ä½œã€‚

### æ€è·¯

æˆ‘ä»¬è¦å°½å¯èƒ½è®© $0$ å¾€å‰ç§»ï¼ŒåŒæ—¶è¦æ³¨æ„ $0$ å¾€å‰ç§»çš„æ—¶å€™ä¸èƒ½è®© $2$ å¾€å‰ç§»ã€‚

å’Œ $Easy$ $Version$ ä¸€æ ·ï¼Œæˆ‘ä»¬æŠŠæœ€åŽçš„ $1$ å˜æˆ $2$ æ€»æ˜¯è¦å¥½ä¸€äº›ã€‚

å¦‚æžœ $s_i = $ '$0$'ï¼Œé‚£ä¹ˆä»Žè¿™ä¸ªä½ç½®å¾€å‰èµ°ï¼Œç›´åˆ°é‡åˆ°çš„ç¬¬ä¸€ä¸ª $2$ çš„ä½ç½®ï¼Œè¿™æ®µåŒºé—´å†…çš„ $1$ éƒ½æ˜¯å¯ä»¥åˆ é™¤çš„ã€‚

æœ€åŽï¼Œåœ¨åˆ é™¤çš„åŒæ—¶ï¼Œç»´æŠ¤æœ€åŽçš„ $1$ çš„ä½ç½®å³å¯ã€‚

### ä»£ç 

```cpp
void solve()
{
    string s; 
    cin >> s;

    int n = s.size();

    vector<int> p;
    for(int i = 0; i < n; i++)
        if(s[i] == '1') 
            p.push_back(i);

    int l = 0, r = p.size() - 1;

    if(p.size() < 2)
    {
        D(s);
        return;
    }

    int p2 = -1;
    for(int i = 0; i < n; i++)
    {
        if(s[i] == '1') continue;

        if(s[i] == '2') p2 = i;
        else if(s[i] == '0') 
        {
            int dl = p2 == -1 ? 0 : p2;
            int dr = i;

            while(l < r && p[l] < dl) l++;

            while(l < r && p[l] < dr) 
            {
                if(p[r] < dr) break;
                s[p[l++]] = '#';
                s[p[r--]] = '2';
            }
        }
    }

    for(char& c : s) 
        if(c != '#') 
            cout << c;
}
```

# ðŸŽˆæ¨¡æ¿

## ç«è½¦å¤´

```cpp
#include <bits/stdc++.h>
#define inf INT_MAX
#define INF LLONG_MAX
#define MOD 1000000007
#define mod 998244353
#define all(_x) _x.begin(), _x.end()
#define vcin(_x) for(auto& _i : _x) cin >> _i
#define vvcin(_x) for(auto& _j : _x) for(auto& _i : _j) cin >> _i
#define D(_x) cout << _x << endl
#define vD(_x) for(int _i = 0; _i < _x.size(); ++_i) cout << _x[_i] << " \n"[_i == _x.size() - 1]
#define input(_n, _a) int _n; cin >> _n; vector<int> _a(_n); vcin(_a)
#define flr(_i, _l, _r) for(int _i = _l; _i <= _r; ++_i)
#define frl(_i, _r, _l) for(int _i = _r; _i >= _l; --_i)
#define YES cout << "YES" << endl
#define NO cout << "NO" << endl
#define Yes cout << "Yes" << endl
#define No cout << "No" << endl
#define yes cout << "yes" << endl
#define no cout << "no" << endl
using namespace std;

#define int long long
#define endl '\n' 

void solve()
{
    
}

signed main()
{
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int _ = 1;
cin >> _;
    while (_--)
        solve();
    return 0;
}
```
